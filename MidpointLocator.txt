proc MidpointLocator(int $midpointInd, int $midpointAll)
{   
	string $selection[] = `ls -sl`;
	float $posX[]; 
	float $posY[]; 
	float $posZ[];
	float $addedX;
	float $addedY;
	float $addedZ;
	float $selectionBB[];
	float $midpointX;
	float $midpointY;
	float $midpointZ;
	
	
	if($midpointInd = 1)
	{
    	for( $i=0; $i<size($selection); $i++)
    	{
    	    
    	    string $selectionI = $selection[$i];
    		float $X = `getAttr ($selectionI + ".translateX")`;
    		float $Y = `getAttr ($selectionI + ".translateY")`;
    		float $Z = `getAttr ($selectionI + ".translateZ")`;
    				
    		spaceLocator -absolute -position $X $Y $Z;
    					
    	}
	}
	
	
	if($midpointAll = 1)
	{
	    group -name "Selection" $selection ;
	    
        $selectionBB = `xform -query -boundingBox "Selection"`;
        $midpointX = (($selectionBB[0] + $selectionBB[3])/2); 
        $midpointY = (($selectionBB[1] + $selectionBB[4])/2);
        $midpointZ = (($selectionBB[2] + $selectionBB[5])/2);
        
        spaceLocator -position $midpointX $midpointY $midpointZ;
        
        ungroup "Selection";
    }
}

MidpointLocator(0, 1);